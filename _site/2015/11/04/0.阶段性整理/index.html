<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="还没有更好的描述呢">
    <meta name="keywords"  content="yuan, 920 Blog, 永震的博客, 920, 永震, iOS, Apple, iPhone">
    <meta name="theme-color" content="#fff">
    
    <title>阶段性整理 - Yuan's Blog</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <!-- <link rel="shortcut icon" href="/img/favicon.ico"> -->
    <link rel="shortcut icon" href="/img/apple-touch-icon.png">

    <!-- Safari Webpage Icon    by-BY -->
    <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://yuan920.github.io/2015/11/04/0.%E9%98%B6%E6%AE%B5%E6%80%A7%E6%95%B4%E7%90%86/">

    <!-- Bootstrap Core CSS -->
    <!-- <link rel="stylesheet" href="/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="/css/bootstrap.css?t=1">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css?t=5">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Yuan's Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                        
                    
                        
                    
                        
                            <li>
                                <a href="/about/">About</a>
                            </li>
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            <li>
                                <a href="/tags/">Tags</a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/uniapp/">uniapp</a>
                            </li>
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }

    // Bind Event
    $toggle.addEventListener('click', function(e){
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        }else{
            __HuxNav__.open()
        }
    })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from 
     * $toggle/$collapse will break global delegation.
     * 
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.  
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
</script>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/post-bg-desk.png" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        position: relative;
        /*background-image: url('/img/post-bg-desk.png')*/
        background-color: #969696;
        
    }

    
</style>

<header class="intro-header" >
    <div class="header-mask"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#iOS" title="iOS">iOS</a>
                        
                        <a class="tag" href="/tags/#OC" title="OC">OC</a>
                        
                        <a class="tag" href="/tags/#C" title="C">C</a>
                        
                    </div>
                    <h1>阶段性整理</h1>
                    
                    
                    <h2 class="subheading"></h2>
                    

                    <span class="meta">
                    
                        920
                    
                    </span>
                    <span class="meta" style="font-size: 13px;padding-top: 15px;">
                        <!-- <strong>发布:</strong>  2015/11/4 15:08 -->
                        
                            <strong>发布:</strong>  2015/11/4 15:08
                        
                    </span>
                    <span id="busuanzi_container_page_uv" class="meta" style="font-size: 13px;padding-top: 15px;">
                        本文总阅读量<span id="busuanzi_value_page_pv"></span>次
                    </span>
                    
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

				    <h4 id="一内存管理情况">一.内存管理情况</h4>

<blockquote>
  <p>1.<code class="language-plaintext highlighter-rouge">autorelease</code>，当用户的代码在持续运行时，自动释放池是不会被销毁的，这段时间内用户可以安全地使用自动释放的对象。当用户的代码运行告一段落，开始等待用户的操作，自动释放池就会被释放掉（调用dealloc），池中的对象都会收到一个release，有可能会因此被销毁。<br />
2.成员属性：<br />
<code class="language-plaintext highlighter-rouge">readonly</code>：不指定<code class="language-plaintext highlighter-rouge">readonly</code>，默认合成<code class="language-plaintext highlighter-rouge">getter</code>和<code class="language-plaintext highlighter-rouge">setter</code>方法。外界毫不关心的成员，则不要设置任何属性，这样封装能增加代码的独立性和安全性。相当于私有成员？<br />
<code class="language-plaintext highlighter-rouge">assign</code>：表示只进行简单的赋值，不会发送<code class="language-plaintext highlighter-rouge">retain</code>消息。<br />
<code class="language-plaintext highlighter-rouge">retain</code>：会向旧值发送<code class="language-plaintext highlighter-rouge">release</code>消息，向新值发送<code class="language-plaintext highlighter-rouge">retain</code>消息。<br />
<code class="language-plaintext highlighter-rouge">copy</code>：向旧值发<code class="language-plaintext highlighter-rouge">release</code>消息，向新值发送<code class="language-plaintext highlighter-rouge">copy</code>消息。<br />
3.引用计数特殊情况：<br />
<code class="language-plaintext highlighter-rouge">NSArray</code>：当把一个对象添加到NSArray时，对象的引用计数会加1，移除时会减1。<br />
<code class="language-plaintext highlighter-rouge">UIView</code>：addGestureRecognizer会对手势识别器的引用计数加1，removeGestureRecognizer会减1。</p>
</blockquote>

<h4 id="二-图形api">二 .图形API</h4>

<blockquote>
  <p><a href="http://www.cocoachina.com/bbs/read.php?tid=77731&amp;page=1">这个讲的好，清晰明确.</a><br />
1-<code class="language-plaintext highlighter-rouge">Quartz2D</code>，的绘图总是发生在图形环境（<code class="language-plaintext highlighter-rouge">Graphics Context</code>）中。视图会在调用<code class="language-plaintext highlighter-rouge">drawRect:</code>方法进行绘图之前，创建好图形环境，通过<code class="language-plaintext highlighter-rouge">UIGraphicsGetCurrentContext</code>函数来获得这个图形环境。如果直接在图像或者PDF上绘图，需要调用<code class="language-plaintext highlighter-rouge">CGBitmapContextCreate</code>或者<code class="language-plaintext highlighter-rouge">CGPDFContextCreate</code>函数来创建图形环境。<br />
<code class="language-plaintext highlighter-rouge">Quartz2D</code>绘图的基础元素是路径。路径可以是一些基础几何形状，也可以是这些几何形状的组合。<br />
当需要创建一条路径时，应当调用<code class="language-plaintext highlighter-rouge">CGContextBeginPath</code>函数；<br />
当需要将路径绘制的起点移动到一个位置时，应当调用<code class="language-plaintext highlighter-rouge">CGContextMoveToPoint</code>函数；<br />
当想绘制一条线段时，应当调用<code class="language-plaintext highlighter-rouge">CGContextAddLineToPoint</code>。 CTM（当前变换矩阵）将绘图从用户空间映射到设备控件。<br />
当图形环境刚刚创建时，CTM初始化为一个单位矩阵。<br />
对CTM进行平移变换应当调用<code class="language-plaintext highlighter-rouge">CGContextTranslateCTM</code>函数，进行旋转变换应当调用<code class="language-plaintext highlighter-rouge">CGContextRotateCTM</code>函数，进行缩放变换应当调用<code class="language-plaintext highlighter-rouge">CGContextScaleCTM</code>函数。<br />
2-<code class="language-plaintext highlighter-rouge">UIBezierPath</code><br />
使用<code class="language-plaintext highlighter-rouge">UIBezierPath</code>绘图的好处：</p>
  <blockquote>
    <p>采用系统坐标系<br />
在<code class="language-plaintext highlighter-rouge">Core Graphics</code>的基础上封装，具有<code class="language-plaintext highlighter-rouge">Core Graphics</code>的主要功能，无需考虑图形环境。</p>
    <div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">UIBezierPath</span><span class="o">*</span> <span class="n">pathLines</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIBezierPath</span> <span class="nf">bezierPath</span><span class="p">];</span>
<span class="p">[</span><span class="n">pathLines</span> <span class="nf">moveToPoint</span><span class="p">:</span><span class="n">point1</span><span class="p">];</span> <span class="c1">// 移动到point1位置</span>
<span class="p">[</span><span class="n">pathLines</span> <span class="nf">addLineToPoint</span><span class="p">:</span><span class="n">point2</span><span class="p">];</span> <span class="c1">// 画一条从point1到point2的线</span>
<span class="n">pathLines</span><span class="p">.</span><span class="n">lineWidth</span> <span class="o">=</span> <span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span> <span class="c1">// 线宽</span>
<span class="p">[</span><span class="n">UIColor</span> <span class="nf">redColor</span><span class="p">]</span> <span class="n">set</span><span class="p">];</span> <span class="c1">// 颜色设置</span>
<span class="p">[</span><span class="n">pathLines</span> <span class="nf">stroke</span><span class="p">];</span> <span class="c1">// 开始描绘</span>
</code></pre></div>    </div>
    <p>在同一<code class="language-plaintext highlighter-rouge">UIBazierPath</code>中，只能采用相同的颜色和线宽。
可以调用<code class="language-plaintext highlighter-rouge">closePath</code>，从当前点画一条直线到当前子路径的初始点。如果要填充路径，应当使用fill方法，此方法会填充路径中得所有封闭子路径。</p>
  </blockquote>
</blockquote>

<p>####三.容器</p>
<blockquote>
  <p>-<code class="language-plaintext highlighter-rouge">NSArray</code>和<code class="language-plaintext highlighter-rouge">NSMutableArray</code>
<code class="language-plaintext highlighter-rouge">+array:</code>创建一个空数组<br />
<code class="language-plaintext highlighter-rouge">+arrayWithArray:</code>从另一个数组创建新的数组<br />
<code class="language-plaintext highlighter-rouge">+arrayWithContentsOfFile:</code>读文件创建数组<br />
<code class="language-plaintext highlighter-rouge">+arrayWithObject:</code>创建一个数组，其中包含一个给定对象<br />
<code class="language-plaintext highlighter-rouge">+arrayWithObjects</code> 
<code class="language-plaintext highlighter-rouge">+arrayWithObjects:count:</code>从C数组创建<br />
<code class="language-plaintext highlighter-rouge">-containsObject:</code>是否包含一个元素<br />
<code class="language-plaintext highlighter-rouge">-count:</code>数量<br />
<code class="language-plaintext highlighter-rouge">-lastObject:</code>返回最后一个<br />
<code class="language-plaintext highlighter-rouge">-objectAtIndex:</code>返回某一个<br />
<code class="language-plaintext highlighter-rouge">-objectsAtIndexes:</code>返回一组，类型为NSArray<br />
<code class="language-plaintext highlighter-rouge">-indexOfObject:</code>返回对象索引<br />
<code class="language-plaintext highlighter-rouge">-arrayByAddingObject:</code>原数组最后加一个对象，产生一个新的数组<br />
<code class="language-plaintext highlighter-rouge">-arrayByAddingObjectsFromArray:</code>在原数组的最后添加另一个数组中的所有对象，产生一个新数组<br />
<code class="language-plaintext highlighter-rouge">-subarrayWithRange:</code>抽取原数组中得一部分，产生一个新的数组<br />
<code class="language-plaintext highlighter-rouge">-isEqualToArray:</code>比较两个数组是否相同<br />
<code class="language-plaintext highlighter-rouge">-writeToFile:atomically:</code>保存数组至一个文件<br />
<code class="language-plaintext highlighter-rouge">-writeToURL:atomically:</code>保存数组至一个URL<br />
<code class="language-plaintext highlighter-rouge">-addObject:</code>在数组最后添加一个对象<br />
<code class="language-plaintext highlighter-rouge">-addObjectsFromArray:</code>在原数组最后添加另一个数组的全部对象<br />
<code class="language-plaintext highlighter-rouge">-insertObject:atIndex:</code>向原数组制定位置添加一个对象<br />
<code class="language-plaintext highlighter-rouge">-insertObjects:atIndexes:</code>向原数组中一系列位置添加一系列对象<br />
<code class="language-plaintext highlighter-rouge">-removeAllObjects:</code>移除数组中的全部对象<br />
<code class="language-plaintext highlighter-rouge">-removeLastObject:</code>移除数组中最后一个对象<br />
<code class="language-plaintext highlighter-rouge">-removeObject:</code>移除一个对象<br />
<code class="language-plaintext highlighter-rouge">-removeObjectAtIndex:</code>移除位于指定位置的对象<br />
<code class="language-plaintext highlighter-rouge">-removeObjectsAtIndexes:</code>移除位于一系列位置的对象<br />
<code class="language-plaintext highlighter-rouge">-replaceObjectAtIndex:withObject:</code>用给定对象替换位于指定位置的对象<br />
<code class="language-plaintext highlighter-rouge">-replaceObjectsAtIndexes:withObjects:</code>多对象，多位置版本<br />
<code class="language-plaintext highlighter-rouge">-setArray:</code>用另一个数组中的所有对象来替换当前数组中的所有对象<br />
<code class="language-plaintext highlighter-rouge">-NSDictionary与NSMutableDictionary</code><br />
<code class="language-plaintext highlighter-rouge">+dictionary</code>
<code class="language-plaintext highlighter-rouge">+dictionaryWithContentsOfFile</code>
<code class="language-plaintext highlighter-rouge">+dictionaryWithContentsOfURL</code>
<code class="language-plaintext highlighter-rouge">+dictionaryWithDictionary</code> 
<code class="language-plaintext highlighter-rouge">+dictionaryWithObject:forKey</code> 
<code class="language-plaintext highlighter-rouge">+dictionaryWithObjects:forKeys</code> 
<code class="language-plaintext highlighter-rouge">+dictionaryWithObjectsAndKeys</code><br />
<code class="language-plaintext highlighter-rouge">-count:</code>数量<br />
<code class="language-plaintext highlighter-rouge">-allKeys:</code>返回一个数组，包含字典中的所有关键字。<br />
<code class="language-plaintext highlighter-rouge">-allKeysForObject:</code>返回一个数组，包含所有对应到给定对象的关键字。<br />
<code class="language-plaintext highlighter-rouge">-valueForKey:</code>通过字符串查找数值。<br />
<code class="language-plaintext highlighter-rouge">-writeToFile:atomically</code> 
<code class="language-plaintext highlighter-rouge">-writeToURL:atomically</code><br />
<code class="language-plaintext highlighter-rouge">-setValue:forKey:</code>加键-值对<br />
<code class="language-plaintext highlighter-rouge">-addEntriesFromDictionary:</code> 添加另一个字典中得所有条目<br />
<code class="language-plaintext highlighter-rouge">-setDictionary:</code>将原字典中条目设置为另一个字典中得所有条目<br />
<code class="language-plaintext highlighter-rouge">-removeObjectForKey:</code>移除一个关键字的对应条目<br />
<code class="language-plaintext highlighter-rouge">-removeAllObjects:</code>移除所有条目<br />
<code class="language-plaintext highlighter-rouge">-removeObjectsForKeys:</code>移除一系列关键字的对应条目</p>
</blockquote>

<h4 id="四文件系统">四.文件系统</h4>

<blockquote>
  <p>1.概述
<code class="language-plaintext highlighter-rouge">bundle</code>（沙盒）：一个应用只能在自己的沙盒中读取或存储文件，而不能操作其他沙盒中的文件。好处：保护应用的隐私不受侵犯，保护系统文件的安排，应用删除后相关文件也能被全部清除。<br />
每个应用都有自己的沙盒，沙盒的根目录的获取方法是<code class="language-plaintext highlighter-rouge">NSHomeDirectory()</code>。<br />
根目录下的内容：<br />
-.<code class="language-plaintext highlighter-rouge">app</code>文件，实际上是一个文件夹，包含了可执行文件、<code class="language-plaintext highlighter-rouge">Nib</code>文件、图片资源、<code class="language-plaintext highlighter-rouge">plist</code>等。<code class="language-plaintext highlighter-rouge">XCode</code>中能看到的资源，及编译后的可执行文件，都封装在app中。<br />
-<code class="language-plaintext highlighter-rouge">Documents</code>文件夹，用于存放你的应用所产生的数据，该文件夹可通过iTunes备份，可以存储游戏进度等。<br />
-<code class="language-plaintext highlighter-rouge">Library</code>文件夹，用于存放用户偏好和临时文件。<br />
-<code class="language-plaintext highlighter-rouge">tmp</code>文件夹是系统的中转站。<br />
2.文件管理器<br />
<code class="language-plaintext highlighter-rouge">NSFileManager</code>，<code class="language-plaintext highlighter-rouge">defaultManager()</code>返回一个文件管理器的单例（多线程下不安全）。<code class="language-plaintext highlighter-rouge">init()</code>，在多线程编程中应尽量使用<code class="language-plaintext highlighter-rouge">init()</code>。<br />
代理方法：<code class="language-plaintext highlighter-rouge">-fileManager:shouldRemoveItemAtPath</code>和<code class="language-plaintext highlighter-rouge">-fileManager:shouldRemoveItemAtURL</code>在移除操作之前被调用。<br />
<code class="language-plaintext highlighter-rouge">-removeItemAtPath:error:</code>删除位于指定路径的文件、连接、目录（及其所有子目录、文件）。<br />
<code class="language-plaintext highlighter-rouge">-removeItemAtURL:error:</code>同上。<br />
<code class="language-plaintext highlighter-rouge">-contentOfDirectoryAtPath:</code>查找所有位于给定路径的子路径和文件。返回值为一个数组，其中包含了<code class="language-plaintext highlighter-rouge">NSString</code>对象。查找只在当前目录进行，不会进入下一层目录。<br />
<code class="language-plaintext highlighter-rouge">-subpathsAtPath:</code>查找给定路径下的所有子路径。深度查找，不限于当前层，也会查找package的内容。<br />
<code class="language-plaintext highlighter-rouge">-fileExistsAtPath:</code>判断文件是否位于一个路径下面。<br />
<code class="language-plaintext highlighter-rouge">-isReadableFileAtPath:</code>查询文件的可读性<br />
<code class="language-plaintext highlighter-rouge">-isWritableFileAtPath:</code>可写性<br />
<code class="language-plaintext highlighter-rouge">-isExecutableFileAtPath:</code>查询文件的可执行性<br />
<code class="language-plaintext highlighter-rouge">-isDeletableFileAtPath:</code>可删除性<br />
3.<code class="language-plaintext highlighter-rouge">NSString</code>的路径功能<br />
<code class="language-plaintext highlighter-rouge">-pathWithComponent:</code>参数是一堆components构成的数组，返回的路径是由这些<code class="language-plaintext highlighter-rouge">components</code>连接而成的路径字符串，相邻<code class="language-plaintext highlighter-rouge">components</code>之间用<code class="language-plaintext highlighter-rouge">/</code>隔开。<br />
<code class="language-plaintext highlighter-rouge">-pathComponents:</code>返回一个数组，包含路径中的<code class="language-plaintext highlighter-rouge">components</code>。<br />
<code class="language-plaintext highlighter-rouge">-fileSystemRepresentation:</code>返回C字符串<br />
<code class="language-plaintext highlighter-rouge">-isAbsolutePath:</code>判断是否为绝对路径<br />
<code class="language-plaintext highlighter-rouge">-pathExtension:</code>返回文件的扩展名，没有的就返回空字符串<br />
<code class="language-plaintext highlighter-rouge">-stringByAppendingPathComponents :</code>向现有路径添加一个component。斜杠/会被自动加上<br />
<code class="language-plaintext highlighter-rouge">-stringByAppendingPathExtensio:</code>：向现有路径加上文件的扩展名<br />
<code class="language-plaintext highlighter-rouge">-stringByDeletingLastPathComponent:</code>移除最后一个路径component<br />
<code class="language-plaintext highlighter-rouge">-stringByDeletingPathExtension:</code>删除路径扩展名<br />
<code class="language-plaintext highlighter-rouge">-stringByAppendingPaths:</code>参数为一个数组，此方法将数组中的字符串对象作为路径一次添加到源字符串后面。<br />
例子：</p>
  <div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">NSString</span> <span class="o">*</span><span class="n">homePath</span> <span class="o">=</span> <span class="n">NSHomeDirectory</span><span class="p">();</span> 
<span class="n">NSString</span> <span class="o">*</span><span class="n">docPath</span> <span class="o">=</span> <span class="p">[</span><span class="n">homePath</span> <span class="nf">stringByAppendingFormat</span><span class="p">:</span><span class="s">@"/Documents"</span><span class="p">];</span> 
</code></pre></div>  </div>
</blockquote>

<h4 id="五uiactionsheet-按钮列表">五.<code class="language-plaintext highlighter-rouge">UIActionSheet</code> 按钮列表</h4>

<h4 id="六旋转">六.旋转</h4>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">interfaceOrientation</code>属性查询当前的界面方向。
<code class="language-plaintext highlighter-rouge">rotatingHeaderView</code>方法来查询当前导航视图。
<code class="language-plaintext highlighter-rouge">rotatingFooterView</code>来查询当前的标签条。</p>
</blockquote>

<h4 id="七快速拨打电话接口">七.快速拨打电话接口</h4>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">openURL</code>能帮助你运行<code class="language-plaintext highlighter-rouge">Maps</code>，<code class="language-plaintext highlighter-rouge">SMS</code>，<code class="language-plaintext highlighter-rouge">Browser</code>,<code class="language-plaintext highlighter-rouge">Phone</code>甚至其他的应用程序。这是<code class="language-plaintext highlighter-rouge">iPhone</code>开发中我经常需要用到的一段代码，它仅仅只有一行而已。</p>
  <div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">UIApplication</span> <span class="nf">sharedApplication</span><span class="p">]</span> <span class="n">openURL</span><span class="o">:</span><span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"tel://8004664411"</span><span class="err">］;</span> 
</code></pre></div>  </div>
  <p>这个程序通过基础的协议支持拨打电话的功能。
<a href="http://blog.csdn.net/smilelance/article/details/6213125">摘自：</a></p>
</blockquote>

<h4 id="八区分设备类型的方法">八.区分设备类型的方法</h4>

<blockquote>
  <p>打电话功能只有iPhone支持，对于其他设备对应按钮应该禁用。<br />
用<code class="language-plaintext highlighter-rouge">[UIDevice currentDevice].model</code>，这个返回的是一个<code class="language-plaintext highlighter-rouge">NSString</code>，你可以做如下判断就能知道设备是<code class="language-plaintext highlighter-rouge">iPad</code>还是<code class="language-plaintext highlighter-rouge">iPhone</code>.</p>
  <div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">([</span><span class="n">UIDevice</span> <span class="nf">currentDevice</span><span class="p">].</span><span class="n">model</span> <span class="n">rangeOfString</span><span class="o">:</span><span class="s">@"iPad"</span><span class="p">].</span><span class="n">location</span> <span class="o">!=</span> <span class="n">NSNotFound</span><span class="p">)</span> <span class="p">{</span> 
	<span class="n">NSLog</span><span class="p">(</span><span class="s">@"This is an iPad!"</span><span class="p">);</span> 
<span class="p">}</span> 
</code></pre></div>  </div>
  <p>用<code class="language-plaintext highlighter-rouge">UI_USER_INTERFACE_IDIOM()</code>方法，这是系统定义的一条宏。使用方法也很简单。</p>
  <div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">UI_USER_INTERFACE_IDIOM</span><span class="p">()</span> <span class="o">==</span> <span class="n">UIUserInterfaceIdiomPad</span><span class="p">)</span> <span class="p">{</span> 
<span class="n">NSLog</span><span class="p">(</span><span class="s">@"This is an iPad!"</span><span class="p">);</span> 
<span class="p">}</span> 
</code></pre></div>  </div>
  <p><a href="http://blog.sina.com.cn/s/blog_3f88614f0100sdcm.html">摘自：</a></p>
</blockquote>

<h4 id="九并发编程">九.并发编程</h4>
<blockquote>
  <p>1.<code class="language-plaintext highlighter-rouge">GCD-Grand Central</code> <code class="language-plaintext highlighter-rouge">Dispatch</code>，<code class="language-plaintext highlighter-rouge">GCD</code>使用队列来管理多个任务，而每个任务是以块（其定义类似于函数）来描述的。<code class="language-plaintext highlighter-rouge">GCD</code>从队列中读取这些要完成的任务，然后其多核执行 引擎负责将这些任务分配给它所管理的线程。和手动线程管理相比，<code class="language-plaintext highlighter-rouge">GCD</code>能极大地优化线程管理，并极大地减少创建和销毁线程所带来的额外开销。除了在多核系 统上得性能改进之外，<code class="language-plaintext highlighter-rouge">GCD</code>还能帮助提高应用的响应速度，并让代码更为干净，易于维护。<br />
2.<code class="language-plaintext highlighter-rouge">NSOperationQueue</code>-操作队列，可以极大地减少开发者在并发编程中的负担，并且操作队列有一套<code class="language-plaintext highlighter-rouge">Objective-C</code>的<code class="language-plaintext highlighter-rouge">API</code>，使用起来方便。<br />
基本操作单位-<code class="language-plaintext highlighter-rouge">NSOperation</code>，操作。<br />
操作是封装了一个与任务有关的代码与数据的抽象类，需要继承<code class="language-plaintext highlighter-rouge">NSOperation</code>，并且描述相关的任务。操作对象是一次性的，它只能执行一次，下一次，需要创建一个新的实例。<br />
可以通过<code class="language-plaintext highlighter-rouge">addDependency:</code>方法为操作添加相互依赖性。假设操作A依赖于操作B，如果操作B没有结束，操作A就不会开始执行。完成是指   执行完，或者取消了操作。有时需要对操作是否成功作出判断。通过<code class="language-plaintext highlighter-rouge">removeDependency:</code>方法来移除操作的相互依赖性。<br />
操作的一个属性是<code class="language-plaintext highlighter-rouge">isConcurrent</code>。当使用操作队列来管理这些操作时，<code class="language-plaintext highlighter-rouge">isConcurrent</code>应当设置为<code class="language-plaintext highlighter-rouge">NO</code>，这时应当重载   <code class="language-plaintext highlighter-rouge">NSOperation</code>的<code class="language-plaintext highlighter-rouge">main</code>函数（在类中保存<code class="language-plaintext highlighter-rouge">controller</code>对象-<code class="language-plaintext highlighter-rouge">weak</code>，并在main中调用<code class="language-plaintext highlighter-rouge">controller</code>的方法）。<code class="language-plaintext highlighter-rouge">isReady</code>属性用于描述操作是否已经可以开始执行，<code class="language-plaintext highlighter-rouge">isExecuting</code>属性表示操作是否正在执行当中，<code class="language-plaintext highlighter-rouge">isFinished</code>属性表示操作是否顺利完成，<code class="language-plaintext highlighter-rouge">isCancelled</code>属性则表示操作已经取消。<br />
可以在操作运行中取消它的运行，只需要给它发送<code class="language-plaintext highlighter-rouge">cancel</code>消息即可。在继承<code class="language-plaintext highlighter-rouge">NSOperation</code>类时，也需要支持<code class="language-plaintext highlighter-rouge">cancel</code>方法。<br />
如果只需要简单的操作，不想继承<code class="language-plaintext highlighter-rouge">NSOperation</code>类，可以使用<code class="language-plaintext highlighter-rouge">NSInvocationOperation</code>类，这个类中的<code class="language-plaintext highlighter-rouge">-initWithTarget:selector:object:</code>方法能帮助你方便地选择人物的对象和相应的功能。<br />
操作的执行顺序取决于各自的优先级和相互之间的依赖性。<br />
操作队列有两种方式来执行其中的操作。第一种是开辟新线程来运行这些操作，第二种则是通过GCD来运行这些操作。但是无论如何，都不需要手动管理 线程。尽量使用操作队列，只有在操作队列的效率明显不足时才转向GCD。因为操作队列是封装在GCD的基础之上的，虽然增加了一些额外开销，但是也具有更 加完善的功能。例子是<code class="language-plaintext highlighter-rouge">TestNSOperation</code>。</p>
</blockquote>

<h5 id="十忙碌指示器">十.忙碌指示器</h5>

<p><code class="language-plaintext highlighter-rouge">UIActivityIndicator</code></p>
<div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">UIActivityIndicatorView</span> <span class="o">*</span><span class="n">activityIndicatior</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIActivityIndicatorView</span> <span class="nf">alloc</span><span class="p">]</span> <span class="n">initWithActivityIndicatorStyle</span><span class="o">:</span> <span class="n">UIActivityIndicatorViewStyleWhiteLarge</span><span class="p">];</span> 
<span class="n">activityIndicator</span><span class="p">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">CGPointMake</span><span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">384</span><span class="p">);</span> 
<span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nf">addSubview</span><span class="p">:</span> <span class="n">activityIndicator</span><span class="p">];</span> 
<span class="p">[</span><span class="n">activityIndicator</span> <span class="nf">startAnimating</span><span class="p">];</span>  
<span class="p">[</span><span class="n">activityIndicator</span> <span class="nf">stopAnimating</span><span class="p">];</span> 
<span class="p">[</span><span class="n">activityIndicator</span> <span class="nf">removeFromSuperView</span><span class="p">];</span> 
</code></pre></div></div>

<h4 id="十一媒体播放">十一.媒体播放</h4>

<blockquote>
  <p>1- 音频<br />
[1] 音乐往往是存储在iPod曲库（注意位置）中的，可以通过媒体选择器（media picker）或者媒体查询（media query）读取，然后用音乐播放器<code class="language-plaintext highlighter-rouge">MPMusicPlayerController</code>播放。</p>
  <div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">MPMusicPlayerController</span> <span class="o">*</span><span class="n">musicPlayer</span> <span class="o">=</span> <span class="p">[</span><span class="n">MPMusicPlayerController</span> <span class="nf">applicationMusicPlayer</span><span class="p">];</span> 
<span class="p">[</span><span class="n">musicPlayer</span> <span class="nf">setShufleMode</span><span class="p">:</span> <span class="n">MPMusicShuffleModeSongs</span><span class="p">];</span> 
<span class="p">[</span><span class="n">musicPlayer</span> <span class="nf">setRepeatMode</span><span class="p">:</span> <span class="n">MPMusicRepeatModeAll</span><span class="p">];</span> 
<span class="p">[</span><span class="n">musicPlayer</span> <span class="nf">setQueueWithQuery</span><span class="p">:</span> <span class="p">[</span><span class="n">MPMediaQuery</span> <span class="nf">songsQuery</span><span class="p">]</span><span class="err">;</span> 
<span class="p">[</span><span class="n">musicPlayer</span> <span class="nf">play</span><span class="p">]</span><span class="err">;</span>
</code></pre></div>  </div>
  <p><code class="language-plaintext highlighter-rouge">applicationMusicPlayer</code>返回的播放器，在你的应用中播放音乐。它不会影响到<code class="language-plaintext highlighter-rouge">iPod</code>播放器，也不能从<code class="language-plaintext highlighter-rouge">iPod</code>播放器重获取信息。<br />
<code class="language-plaintext highlighter-rouge">iPodMusicPlayer</code>返回的是<code class="language-plaintext highlighter-rouge">iPod</code>播放器，在你推出应用后，所有的设置都会影响到之后设备上的<code class="language-plaintext highlighter-rouge">iPod</code>播放器。<br />
获得音乐播放器后，需要为它设置一个播放队列。可以用<code class="language-plaintext highlighter-rouge">setQueueWithQuery:</code>放方法，通过媒体查询<code class="language-plaintext highlighter-rouge">MPMediaQuery</code>来设置   播放队列，也可以用<code class="language-plaintext highlighter-rouge">setQueueWithItemCollection:</code>方法，通过<code class="language-plaintext highlighter-rouge">MPMdiaItemCollection</code>来设置播放队列。<br />
重复模式<code class="language-plaintext highlighter-rouge">repeatMode</code>可以设置为不重复、重复当前曲目、或整个播放列表；乱序播放<code class="language-plaintext highlighter-rouge">shuffleMode</code>可以设置为不乱序、乱序播放曲目或乱序播放专辑；音量volume的设置与音频播放器一样。<br />
<code class="language-plaintext highlighter-rouge">skipToNextItem</code>跳到下一首，<code class="language-plaintext highlighter-rouge">skipToPreviousItem</code>跳到上一首，<code class="language-plaintext highlighter-rouge">skipToBegin</code>跳到第一首。 
对应的宏都是以<code class="language-plaintext highlighter-rouge">MPMusic</code>开头。<br />
[2] 利用系统声音服务来播放短暂音效（时长30秒以内），并震动：</p>
  <div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">AudioServicesPlaySystemSound</span><span class="p">(</span><span class="n">kSystemSoundID_Vibrate</span><span class="p">);</span>  
<span class="c1">//播放指定音效：</span>
<span class="n">NSURL</span> <span class="o">*</span><span class="n">fileURL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">fileURLWithPath</span><span class="p">:</span> <span class="n">path</span> <span class="nf">isDirectory</span><span class="p">:</span> <span class="nb">NO</span><span class="p">];</span>  
<span class="c1">// 创建音效ID </span>
<span class="n">SystemSoundID</span> <span class="n">soundID</span><span class="p">;</span> 
<span class="n">AudioServiceCreateSystemSoundID</span><span class="p">((</span><span class="n">CFURLRef</span><span class="p">)</span> <span class="n">fileURL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">soundID</span><span class="p">);</span> 
<span class="c1">// 播放声音 </span>
<span class="n">AudioServicesPlaySystemSound</span><span class="p">(</span><span class="n">soundID</span><span class="p">);</span> 
</code></pre></div>  </div>
  <p>[3] 音频播放器</p>
  <div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//没有时长限制  </span>
<span class="n">NSURL</span> <span class="o">*</span><span class="n">fileURL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">fileURLWithPath</span><span class="p">:</span> <span class="n">path</span> <span class="nf">isDirectory</span><span class="p">:</span> <span class="nb">NO</span><span class="p">];</span> 
<span class="c1">// 用URL来初始化音频播放器-播放的不是iPod曲库中的音乐 </span>
<span class="n">AVAudioPlayer</span><span class="o">*</span> <span class="n">player</span> <span class="o">=</span> <span class="err">［</span><span class="n">AVAudioPlayer</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">initWithContentsOfURL</span><span class="o">:</span> <span class="n">fileURL</span> <span class="n">error</span><span class="o">:</span> <span class="nb">NO</span><span class="p">];</span> 
<span class="c1">// 准备播放 </span>
<span class="p">[</span><span class="n">player</span> <span class="nf">prepareToPlay</span><span class="p">];</span> 
<span class="c1">// 设置代理 </span>
<span class="p">[</span><span class="n">player</span> <span class="nf">setDelegate</span><span class="p">:</span> <span class="n">self</span><span class="p">];</span> 
</code></pre></div>  </div>
  <p>方法：<code class="language-plaintext highlighter-rouge">play</code>、<code class="language-plaintext highlighter-rouge">pause</code>、<code class="language-plaintext highlighter-rouge">stop</code>。可以通过<code class="language-plaintext highlighter-rouge">playing</code>属性查询播放器是否正在播放当中，可以通过volume属性来修改和查询播放器的播放增益（从0.0到1.0），可通过<code class="language-plaintext highlighter-rouge">setting</code>属性查询播放器其他设置。
<code class="language-plaintext highlighter-rouge">duration</code>表示音频的时间长度，<code class="language-plaintext highlighter-rouge">currentTime</code>表示当前播放到的时间。播放结束后可以通过代理方法<code class="language-plaintext highlighter-rouge">audioPlayerDidFinishPlaying:</code>来处理播放后设置。 <br />
2- 视频<br />
视频播放可以采用网页视图（<code class="language-plaintext highlighter-rouge">UIWebView</code>）进行嵌入式播放（能播放<code class="language-plaintext highlighter-rouge">YouTube</code>视频），或者采用电影播放器（<code class="language-plaintext highlighter-rouge">MPMoviePlayerController</code>）进行播放。
[1] 电影播放器</p>
  <div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">MPMoviePlayerController</span> <span class="o">*</span><span class="n">player</span> <span class="o">=</span> <span class="p">[</span><span class="n">MPMoviePlayerController</span> <span class="nf">alloc</span><span class="p">]</span><span class="n">initWithContentURL</span><span class="o">:</span> <span class="n">url</span><span class="p">];</span> 
<span class="c1">// 设置播放器的大小，并将其加入视图中 </span>
<span class="p">[</span><span class="n">player</span><span class="p">.</span><span class="n">view</span> <span class="nf">setFrame</span><span class="p">:</span> <span class="n">rectFrame</span><span class="p">];</span> 
<span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nf">addSubView</span><span class="p">:</span> <span class="n">player</span><span class="p">.</span><span class="n">view</span><span class="p">];</span> 
<span class="c1">//播放器的背景视图backgroundView。 </span>
<span class="c1">//全屏</span>
<span class="p">[</span><span class="n">player</span> <span class="nf">setFullscreen</span><span class="p">:</span> <span class="nb">YES</span> <span class="nf">animated</span><span class="p">:</span> <span class="nb">YES</span><span class="p">];</span> 
<span class="c1">//播放另一个影片</span>
<span class="p">[</span><span class="n">player</span> <span class="nf">setContentURL</span><span class="p">:</span> <span class="n">newURL</span><span class="p">];</span> 
<span class="p">[</span><span class="n">player</span> <span class="nf">requestThumbnailImagesAtTimes</span><span class="p">:</span><span class="n">arrayTimes</span> <span class="nf">timeOption</span><span class="p">:</span><span class="n">MPMovieTimeOptionNearestKeyFrame</span><span class="p">];</span> 
<span class="c1">//表示播放器不会在你所指定的时间去截取预览，而是在绝对时间的附近几帧中寻找效果最好的帧做为预览。 </span>
</code></pre></div>  </div>
  <p><code class="language-plaintext highlighter-rouge">scalingMode</code>规定了影片的缩放模式。   <br />
<code class="language-plaintext highlighter-rouge">initialPlaybackTime</code>用来控制视频开始播放的时间，单位是秒。<br />
如果视频源在网络上，那么需要正确设置服务器端的<code class="language-plaintext highlighter-rouge">mimeType</code>。</p>
</blockquote>

<h4 id="十二运行环-runloop">十二.运行环-<code class="language-plaintext highlighter-rouge">runloop</code></h4>

<blockquote>
  <p>运行环作用于一个iOS应用的整个生命周期。它负责监视各种输入事件，并且在合适的时候对这些输入进行分配。应用的每一个线程都有且仅有一个运行环。你自己不需要创建也不需要销毁运行环，但是可以通过currentRunLoop方法来获取当前的运行环。</p>
</blockquote>

<h4 id="十三定时器">十三.定时器</h4>

<blockquote>
  <p>由于运行环机制，定时器的精度不高，只能用于一般性延时。<br />
例子：拼图游戏，<code class="language-plaintext highlighter-rouge">DeskViewController.m</code>。<br />
<code class="language-plaintext highlighter-rouge">NSObjec</code>t类的定时方法。<br />
<code class="language-plaintext highlighter-rouge">performSelector: withObject: afterDelay:</code> 运行方法，参数，时间（秒）。<br />
<code class="language-plaintext highlighter-rouge">performSelectorOnMainThread: withObject:</code> waitUntilDone:<br />
在主线程中，运行参数<code class="language-plaintext highlighter-rouge">selector</code>所指定的方法，如果<code class="language-plaintext highlighter-rouge">waitUntilDone</code>参数为<code class="language-plaintext highlighter-rouge">YES</code>，那么当前线程会被阻拦，直到<code class="language-plaintext highlighter-rouge">selector</code>运行完。<br />
<code class="language-plaintext highlighter-rouge">performSelector: onThread: withObject: waitUntilDone:</code>同上，但不一定在主线程中运行。<br />
<code class="language-plaintext highlighter-rouge">performSelectorInBackground: withObject:</code> 开启一个新线程，用于运行<code class="language-plaintext highlighter-rouge">selector</code>方法，<code class="language-plaintext highlighter-rouge">selector</code>方法应负责线程的初始化。<br />
<code class="language-plaintext highlighter-rouge">cancelPreviousPerformRequestsWithTarget:</code>取消与一个目标相关的所有计划好的动作。<br />
<code class="language-plaintext highlighter-rouge">cancelPreviousPerformRequestsWithTraget: selector: object</code>只取消特定的计划动作。</p>
</blockquote>

<h4 id="十四随机数">十四.随机数</h4>

<div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//0~1之间随机数</span>
<span class="n">CG_INLINE</span> <span class="kt">float</span> <span class="nf">genRandomNum</span><span class="p">()</span> <span class="p">{</span> 
  <span class="k">return</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">arc4random</span><span class="o">/</span><span class="n">ARCRANDOM_MAX</span><span class="p">;</span> 
<span class="p">}</span>
</code></pre></div></div>

<h4 id="十五加速度传感器">十五.加速度传感器</h4>

<div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//获得加速度传感器读数：</span>
<span class="n">UIAccelerometer</span> <span class="o">*</span><span class="n">accelerometer</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIAccelerometer</span> <span class="nf">shareAccelerometer</span><span class="p">];</span> <span class="c1">// 单例 </span>
<span class="n">accelerometer</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">self</span><span class="p">;</span> 
<span class="n">accelerometer</span><span class="p">.</span><span class="n">updateInterval</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span> <span class="o">/</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span><span class="p">;</span> <span class="c1">// 传感器更新频率，普通游戏10~30HZ，虚拟现实类游戏，30~60HZ </span>
<span class="n">accelerometer</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">accelerometer</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">accelerometer</span><span class="p">.</span><span class="n">z</span> <span class="c1">// 传感器读数 </span>
<span class="c1">//若不想再接受传感器读数，可将代理设置为nil</span>
<span class="p">[</span><span class="n">UIAccelerometer</span> <span class="nf">shareAccelerometer</span><span class="p">].</span><span class="n">delegate</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>  

<span class="cp">#define alpha 0.05 
</span><span class="c1">// 获得重力引起的加速度读数： </span>
<span class="k">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">accelerometer</span><span class="p">:</span> <span class="p">(</span><span class="n">UIAccelerometer</span> <span class="o">*</span><span class="p">)</span><span class="nv">accelerometer</span> <span class="nf">didAccelerate</span><span class="p">:</span> <span class="p">(</span><span class="n">UIAcceleration</span> <span class="o">*</span><span class="p">)</span><span class="nv">acceleration</span> 
<span class="p">{</span> 
  <span class="c1">// 简单低通滤波器 </span>
  <span class="n">accelX</span> <span class="o">=</span> <span class="p">(</span><span class="n">acceleration</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">accelX</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">);</span> 
  <span class="n">accelY</span> <span class="o">=</span> <span class="p">(</span><span class="n">acceleration</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">accelY</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">);</span> 
  <span class="n">accelZ</span> <span class="o">=</span> <span class="p">(</span><span class="n">acceleration</span><span class="p">.</span><span class="n">z</span> <span class="o">*</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">accelZ</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">);</span> 
<span class="p">}</span> 

<span class="c1">// 获得动作引起的加速度读数： </span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">accelerometer</span><span class="p">:</span> <span class="p">(</span><span class="n">UIAccelerometer</span> <span class="o">*</span><span class="p">)</span><span class="nv">accelerometer</span> <span class="nf">didAccelerate</span><span class="p">:</span> <span class="p">(</span><span class="n">UIAcceleration</span> <span class="o">*</span><span class="p">)</span><span class="nv">acceleration</span> 
<span class="p">{</span> 
  <span class="c1">// 减去低通滤波输出，得到高通滤波输出 </span>
  <span class="n">accelX</span> <span class="o">=</span> <span class="n">acceleration</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="p">((</span><span class="n">acceleration</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">accelX</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">));</span> 
  <span class="n">accelY</span> <span class="o">=</span> <span class="n">acceleration</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="p">((</span><span class="n">acceleration</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">accelY</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">));</span> 
  <span class="n">accelZ</span> <span class="o">=</span> <span class="n">acceleration</span><span class="p">.</span><span class="n">z</span> <span class="o">-</span> <span class="p">((</span><span class="n">acceleration</span><span class="p">.</span><span class="n">z</span> <span class="o">*</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">accelZ</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">));</span> 
<span class="p">}</span> 
</code></pre></div></div>

<h4 id="十六地图与连接服务器">十六.地图与连接服务器</h4>

<div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 *添加框架MapKit.framework。使用MKMapView来呈现地图。注意应当直接使用此类，而不是继承之。如果希望在MKMapView类之上添加功能，可以使用MKMapViewDelegate协议。
 *初始化：
 */</span>
<span class="n">MKMapView</span> <span class="o">*</span><span class="n">mapView</span> <span class="o">=</span> <span class="p">[</span><span class="n">MKMapView</span> <span class="nf">alloc</span><span class="p">]</span> <span class="n">initWithFrame</span><span class="o">:</span> <span class="n">rect</span><span class="p">];</span> 
<span class="c1">//初始化之后并不直接显示，还需要指定显示的地图区域：</span>
<span class="n">CLLocationCoordinate2D</span> <span class="n">coordinate</span><span class="p">;</span> 
<span class="n">coordinate</span><span class="p">.</span><span class="n">latitude</span> <span class="o">=</span> <span class="n">latitudeValue</span><span class="p">;</span> <span class="c1">// 纬度 </span>
<span class="n">coordinate</span><span class="p">.</span><span class="n">longtitude</span> <span class="o">=</span> <span class="n">longtitudeValue</span><span class="p">;</span> <span class="c1">// 精度 </span>
<span class="n">mapView</span><span class="p">.</span><span class="n">region</span> <span class="o">=</span> <span class="n">MKCoordinateRegionMakeWithDistance</span><span class="p">(</span><span class="n">coordinate</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span> 
<span class="cm">/**
 *指定显示区域，width和height单位都是米 之后可以通过addSubview添加地图。
 *属性：showsUserLocation-为YES，系统会持续跟踪用户的位置
 *userLocationVisible-为YES，将显示用户所在位置
 *显示地图之后，常常希望在地图上添加标注，这需要创建一个类，并实现MKAnnotation协议，这个类叫做标注对象。标注对象往往实现 setCoordinate:方法来设置其坐标。在地图视图上，可以设置标注对象的坐标，然后添加进去，这样地图上就会出现一个标注。代理方法title 和subtitle能够在标注上显示标题和副标题。
 */</span>  
<span class="c1">// 初始化 </span>

<span class="n">mapView</span> <span class="o">=</span> <span class="p">[</span><span class="n">MKMapView</span> <span class="nf">alloc</span><span class="p">]</span> <span class="n">initWithFrame</span><span class="o">:</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">550</span><span class="p">,</span> <span class="mi">700</span><span class="p">)];</span> 
<span class="n">mapView</span><span class="p">.</span><span class="n">showsUserLocation</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span> 
<span class="n">mapView</span><span class="p">.</span><span class="n">mapType</span> <span class="o">=</span> <span class="n">MKMapTypeStandard</span><span class="p">;</span> 
<span class="n">mapView</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">self</span><span class="p">;</span> 
<span class="c1">//设置坐标 </span>
<span class="n">CLLocationCoordinate2D</span> <span class="n">coordinate</span><span class="p">;</span> 
<span class="n">coordinate</span><span class="p">.</span><span class="n">latitude</span> <span class="o">=</span> <span class="mi">37</span><span class="p">.</span><span class="mi">31</span><span class="p">;</span> 
<span class="n">coordinate</span><span class="p">.</span><span class="n">longtitude</span> <span class="o">=</span> <span class="o">-</span><span class="mi">122</span><span class="p">.</span><span class="mo">03</span><span class="p">;</span> 
<span class="n">mapView</span><span class="p">.</span><span class="n">region</span> <span class="o">=</span> <span class="n">MKCoordinateRegionMakeWithDistance</span><span class="p">(</span><span class="n">coordinate</span><span class="p">,</span> <span class="mi">4000</span><span class="p">,</span> <span class="mi">6000</span><span class="p">);</span> <span class="c1">// 4000米宽，6000米高的区域 </span>
<span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nf">insertSubview</span><span class="p">:</span> <span class="n">mapView</span> <span class="nf">atIndex</span><span class="p">:</span> <span class="mi">0</span><span class="p">];</span> 
</code></pre></div></div>
<h4 id="十七通过storyboard来初始化一个controller">十七.通过<code class="language-plaintext highlighter-rouge">storyboard</code>来初始化一个<code class="language-plaintext highlighter-rouge">controller</code></h4>

<div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">CBigDesignImageViewController</span> <span class="o">*</span><span class="n">imageViewController</span> <span class="o">=</span> <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">storyboard</span> <span class="nf">instantiateViewControllerWithIdentifier</span><span class="p">:</span><span class="s">@"BigImageController"</span><span class="p">];</span>  
<span class="c1">//BigImageController是要在storyboard中设置的Identifier属性。</span>
</code></pre></div></div>

<h4 id="十八给uiview子类设置阴影包括各种控件">十八.给<code class="language-plaintext highlighter-rouge">UIView</code>子类设置阴影，包括各种控件</h4>

<blockquote>
  <p>1 导入<code class="language-plaintext highlighter-rouge">QuartzCore framework</code>
2 <code class="language-plaintext highlighter-rouge">#import</code>
3 编码：</p>
  <div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">imgView</span> <span class="nf">layer</span><span class="p">]</span> <span class="n">setShadowOffset</span><span class="o">:</span><span class="n">CGSizeMake</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)];</span> <span class="c1">// 阴影的范围  </span>
<span class="p">[</span><span class="n">imgView</span> <span class="nf">layer</span><span class="p">]</span> <span class="n">setShadowRadius</span><span class="o">:</span><span class="mi">2</span><span class="p">];</span> <span class="c1">// 阴影扩散的范围控制  </span>
<span class="p">[</span><span class="n">imgView</span> <span class="nf">layer</span><span class="p">]</span> <span class="n">setShadowOpacity</span><span class="o">:</span><span class="mi">1</span><span class="p">];</span> <span class="c1">// 阴影透明度  </span>
<span class="p">[</span><span class="n">imgView</span> <span class="nf">layer</span><span class="p">]</span> <span class="n">setShadowColor</span><span class="o">:</span><span class="p">[</span><span class="n">UIColor</span> <span class="nf">brownColor</span><span class="p">].</span><span class="n">CGColor</span><span class="p">];</span> <span class="c1">// 阴影的颜色 </span>
</code></pre></div>  </div>
</blockquote>

<h4 id="十九设置uiscrollview滚动速度">十九.设置<code class="language-plaintext highlighter-rouge">UIScrollView</code>滚动速度</h4>

<div class="language-obj-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//自动滚动太快，效果不好，这里把动画设置慢点，注意下面要直接赋值contentOffset，不要用带animated参数的函数，否则动画会出问题，因为两处都是动画效果。 </span>
<span class="p">[</span><span class="n">UIScrollView</span> <span class="nf">animateWithDuration</span><span class="p">:</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span> <span class="nf">delay</span><span class="p">:</span><span class="mi">0</span> <span class="n">options</span><span class="o">:</span><span class="n">UIViewAnimationCurveLinear</span> <span class="n">animations</span><span class="o">:^</span><span class="p">{</span> 
   <span class="n">scrollView</span><span class="p">.</span><span class="n">contentOffset</span> <span class="o">=</span> <span class="n">CGPointMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>  
<span class="p">}</span><span class="n">completion</span><span class="o">:^</span><span class="p">(</span><span class="n">BOOL</span> <span class="n">finished</span><span class="p">){</span>

<span class="p">}];</span>  
<span class="c1">// 如果在减速滚动过程中，按了刷新按钮，执行上面的动画，会出现重置的位置，y不是0的情况，这里再调用一次，滚动到0。 </span>
<span class="p">[</span><span class="n">scrollView</span> <span class="nf">setContentOffset</span><span class="p">:</span><span class="n">CGPointMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="nf">animated</span><span class="p">:</span><span class="nb">YES</span><span class="p">];</span>  
</code></pre></div></div>
<h4 id="二十exc_bad_access">二十.<code class="language-plaintext highlighter-rouge">EXC_BAD_ACCESS</code></h4>

<blockquote>
  <p>Here’s the advice I generally give to developers when you hit an EXC_BAD_ACCESS error:
-Set the NSZombieEnabled argument in your executable options, which sometimes helps narrow down the cause
-Run with Apple Instruments such as Leaks to look for memory issues
-Set a breakpoint in your code and step through until you narrow down where it’s crashing
Tried and true “comment out code till it works” then backtrack from there :]</p>
</blockquote>

<blockquote>
  <p>Xcode4 下设置 NSZombieEnabled 的方法： 
你可以点击 Xcode4 菜单 Product -&gt; Edit Scheme -&gt; Arguments, 然后将点击”加号”, 将 NSZombieEnabled 参数加到 Environment Variables 窗口中, 后面的数值写上 ”YES”. 
或者在 Xcode4 菜单 Product -&gt; Edit Scheme -&gt; Diagnostics 设置窗口中直接勾上 Enable Zombie Objects 即可，Xcode 可用cmd＋shift＋&lt; 进到这个窗口。 
Xcode4 已经考虑到了现在的要求，所以提供了更便捷的设置的方式，你也可以在这个窗口中设置其他一些参数，你肯定能由此获得更多的帮助信息。</p>
</blockquote>


                <hr style="visibility: hidden;">
                
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2015/11/01/%E5%B8%B8%E8%A7%81%E5%88%86%E7%B1%BB(%E4%B8%89)/" data-toggle="tooltip" data-placement="top" title="常见类(三)">
                        上一篇:<span>常见类(三)</span>
                        </a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2015/11/04/1.%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F/" data-toggle="tooltip" data-placement="top" title="判断文件大小">
                        下一篇:<span>判断文件大小</span>
                        </a>
                    </li>
                    
                </ul>
                

            </div>  

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                        
                            
                                <a href="/tags/#iOS" title="iOS" rel="31">
                                    iOS
                                </a>
                            
                        
                            
                                <a href="/tags/#OC" title="OC" rel="59">
                                    OC
                                </a>
                            
                        
                            
                                <a href="/tags/#C" title="C" rel="26">
                                    C
                                </a>
                            
                        
                            
                                <a href="/tags/#Xcode" title="Xcode" rel="11">
                                    Xcode
                                </a>
                            
                        
                            
                                <a href="/tags/#MIMEType" title="MIMEType" rel="1">
                                    MIMEType
                                </a>
                            
                        
                            
                                <a href="/tags/#屏幕旋转" title="屏幕旋转" rel="1">
                                    屏幕旋转
                                </a>
                            
                        
                            
                                <a href="/tags/#Mac" title="Mac" rel="9">
                                    Mac
                                </a>
                            
                        
                            
                                <a href="/tags/#工具" title="工具" rel="4">
                                    工具
                                </a>
                            
                        
                            
                                <a href="/tags/#SQLite3" title="SQLite3" rel="1">
                                    SQLite3
                                </a>
                            
                        
                            
                                <a href="/tags/#重命名" title="重命名" rel="1">
                                    重命名
                                </a>
                            
                        
                            
                                <a href="/tags/#证书+内购" title="证书+内购" rel="1">
                                    证书+内购
                                </a>
                            
                        
                            
                                <a href="/tags/#像素" title="像素" rel="1">
                                    像素
                                </a>
                            
                        
                            
                                <a href="/tags/#pch" title="pch" rel="1">
                                    pch
                                </a>
                            
                        
                            
                                <a href="/tags/#支付协议税务" title="支付协议税务" rel="1">
                                    支付协议税务
                                </a>
                            
                        
                            
                                <a href="/tags/#APP转让" title="APP转让" rel="1">
                                    APP转让
                                </a>
                            
                        
                            
                                <a href="/tags/#审核" title="审核" rel="1">
                                    审核
                                </a>
                            
                        
                            
                                <a href="/tags/#银行卡格式化" title="银行卡格式化" rel="1">
                                    银行卡格式化
                                </a>
                            
                        
                            
                                <a href="/tags/#git" title="git" rel="5">
                                    git
                                </a>
                            
                        
                            
                                <a href="/tags/#描述文件" title="描述文件" rel="2">
                                    描述文件
                                </a>
                            
                        
                            
                                <a href="/tags/#命令行" title="命令行" rel="6">
                                    命令行
                                </a>
                            
                        
                            
                                <a href="/tags/#沙盒日志" title="沙盒日志" rel="1">
                                    沙盒日志
                                </a>
                            
                        
                            
                                <a href="/tags/#i386" title="i386" rel="1">
                                    i386
                                </a>
                            
                        
                            
                                <a href="/tags/#x86_64" title="x86_64" rel="1">
                                    x86_64
                                </a>
                            
                        
                            
                                <a href="/tags/#控制台log" title="控制台log" rel="1">
                                    控制台log
                                </a>
                            
                        
                            
                                <a href="/tags/#xcode10&iOS12" title="xcode10&iOS12" rel="1">
                                    xcode10&iOS12
                                </a>
                            
                        
                            
                                <a href="/tags/#正则" title="正则" rel="2">
                                    正则
                                </a>
                            
                        
                            
                                <a href="/tags/#textfield" title="textfield" rel="1">
                                    textfield
                                </a>
                            
                        
                            
                                <a href="/tags/#输入限制" title="输入限制" rel="1">
                                    输入限制
                                </a>
                            
                        
                            
                                <a href="/tags/#Pod" title="Pod" rel="3">
                                    Pod
                                </a>
                            
                        
                            
                                <a href="/tags/#真机支持" title="真机支持" rel="1">
                                    真机支持
                                </a>
                            
                        
                            
                                <a href="/tags/#封面尺寸" title="封面尺寸" rel="1">
                                    封面尺寸
                                </a>
                            
                        
                            
                                <a href="/tags/#SDWebImage" title="SDWebImage" rel="1">
                                    SDWebImage
                                </a>
                            
                        
                            
                                <a href="/tags/#Ruby" title="Ruby" rel="1">
                                    Ruby
                                </a>
                            
                        
                            
                                <a href="/tags/#RVM" title="RVM" rel="1">
                                    RVM
                                </a>
                            
                        
                            
                                <a href="/tags/#渐变色" title="渐变色" rel="1">
                                    渐变色
                                </a>
                            
                        
                            
                                <a href="/tags/#jekyll" title="jekyll" rel="1">
                                    jekyll
                                </a>
                            
                        
                            
                                <a href="/tags/#水印" title="水印" rel="1">
                                    水印
                                </a>
                            
                        
                            
                                <a href="/tags/#富文本" title="富文本" rel="1">
                                    富文本
                                </a>
                            
                        
                            
                                <a href="/tags/#标签" title="标签" rel="1">
                                    标签
                                </a>
                            
                        
                            
                                <a href="/tags/#M3U8" title="M3U8" rel="1">
                                    M3U8
                                </a>
                            
                        
                            
                                <a href="/tags/#动、静态库" title="动、静态库" rel="2">
                                    动、静态库
                                </a>
                            
                        
                            
                                <a href="/tags/#异步上传" title="异步上传" rel="1">
                                    异步上传
                                </a>
                            
                        
                            
                                <a href="/tags/#Url编码解码" title="Url编码解码" rel="1">
                                    Url编码解码
                                </a>
                            
                        
                            
                                <a href="/tags/#AlertController" title="AlertController" rel="1">
                                    AlertController
                                </a>
                            
                        
                            
                                <a href="/tags/#保活" title="保活" rel="2">
                                    保活
                                </a>
                            
                        
                            
                                <a href="/tags/#pod报错" title="pod报错" rel="1">
                                    pod报错
                                </a>
                            
                        
                            
                                <a href="/tags/#特定UI横竖屏" title="特定UI横竖屏" rel="1">
                                    特定UI横竖屏
                                </a>
                            
                        
                            
                                <a href="/tags/#Launch版本号" title="Launch版本号" rel="1">
                                    Launch版本号
                                </a>
                            
                        
                            
                                <a href="/tags/#ijkplayer" title="ijkplayer" rel="1">
                                    ijkplayer
                                </a>
                            
                        
                            
                                <a href="/tags/#适配" title="适配" rel="1">
                                    适配
                                </a>
                            
                        
                            
                                <a href="/tags/#手势" title="手势" rel="3">
                                    手势
                                </a>
                            
                        
                            
                                <a href="/tags/#截图" title="截图" rel="1">
                                    截图
                                </a>
                            
                        
                            
                                <a href="/tags/#网络和信号" title="网络和信号" rel="1">
                                    网络和信号
                                </a>
                            
                        
                            
                                <a href="/tags/#礼物缓存" title="礼物缓存" rel="1">
                                    礼物缓存
                                </a>
                            
                        
                            
                                <a href="/tags/#手绘礼物" title="手绘礼物" rel="1">
                                    手绘礼物
                                </a>
                            
                        
                            
                                <a href="/tags/#UIPickerView" title="UIPickerView" rel="1">
                                    UIPickerView
                                </a>
                            
                        
                            
                                <a href="/tags/#文件权限" title="文件权限" rel="1">
                                    文件权限
                                </a>
                            
                        
                            
                                <a href="/tags/#键盘和菜单" title="键盘和菜单" rel="1">
                                    键盘和菜单
                                </a>
                            
                        
                            
                                <a href="/tags/#耗时卡顿" title="耗时卡顿" rel="1">
                                    耗时卡顿
                                </a>
                            
                        
                            
                                <a href="/tags/#国际化" title="国际化" rel="1">
                                    国际化
                                </a>
                            
                        
                            
                                <a href="/tags/#Paypal" title="Paypal" rel="1">
                                    Paypal
                                </a>
                            
                        
                            
                                <a href="/tags/#AWSS3" title="AWSS3" rel="2">
                                    AWSS3
                                </a>
                            
                        
                            
                                <a href="/tags/#npm、Node" title="npm、Node" rel="1">
                                    npm、Node
                                </a>
                            
                        
                            
                                <a href="/tags/#控制台" title="控制台" rel="1">
                                    控制台
                                </a>
                            
                        
                            
                                <a href="/tags/#warning" title="warning" rel="1">
                                    warning
                                </a>
                            
                        
                            
                                <a href="/tags/#扩展" title="扩展" rel="5">
                                    扩展
                                </a>
                            
                        
                            
                                <a href="/tags/#防盗链" title="防盗链" rel="1">
                                    防盗链
                                </a>
                            
                        
                            
                                <a href="/tags/#动画" title="动画" rel="1">
                                    动画
                                </a>
                            
                        
                            
                                <a href="/tags/#分析" title="分析" rel="1">
                                    分析
                                </a>
                            
                        
                            
                                <a href="/tags/#CallKit" title="CallKit" rel="1">
                                    CallKit
                                </a>
                            
                        
                            
                                <a href="/tags/#侧滑" title="侧滑" rel="1">
                                    侧滑
                                </a>
                            
                        
                            
                                <a href="/tags/#重置根控制器" title="重置根控制器" rel="1">
                                    重置根控制器
                                </a>
                            
                        
                            
                                <a href="/tags/#播放器" title="播放器" rel="1">
                                    播放器
                                </a>
                            
                        
                            
                                <a href="/tags/#裁剪" title="裁剪" rel="1">
                                    裁剪
                                </a>
                            
                        
                            
                                <a href="/tags/#日志" title="日志" rel="1">
                                    日志
                                </a>
                            
                        
                            
                                <a href="/tags/#bugly" title="bugly" rel="1">
                                    bugly
                                </a>
                            
                        
                            
                                <a href="/tags/#uniapp" title="uniapp" rel="9">
                                    uniapp
                                </a>
                            
                        
                            
                                <a href="/tags/#Swift" title="Swift" rel="2">
                                    Swift
                                </a>
                            
                        
                            
                                <a href="/tags/#文字翻转" title="文字翻转" rel="1">
                                    文字翻转
                                </a>
                            
                        
                            
                                <a href="/tags/#跨域" title="跨域" rel="1">
                                    跨域
                                </a>
                            
                        
                            
                                <a href="/tags/#WebClip" title="WebClip" rel="1">
                                    WebClip
                                </a>
                            
                        
                            
                                <a href="/tags/#网络请求" title="网络请求" rel="1">
                                    网络请求
                                </a>
                            
                        
                            
                                <a href="/tags/#地图导航" title="地图导航" rel="1">
                                    地图导航
                                </a>
                            
                        
                            
                                <a href="/tags/#ZSH" title="ZSH" rel="1">
                                    ZSH
                                </a>
                            
                        
                            
                                <a href="/tags/#SPM" title="SPM" rel="1">
                                    SPM
                                </a>
                            
                        
                            
                                <a href="/tags/#Vapor" title="Vapor" rel="2">
                                    Vapor
                                </a>
                            
                        
                            
                                <a href="/tags/#导航" title="导航" rel="1">
                                    导航
                                </a>
                            
                        
                            
                                <a href="/tags/#验证码" title="验证码" rel="1">
                                    验证码
                                </a>
                            
                        
                            
                                <a href="/tags/#杀进程" title="杀进程" rel="1">
                                    杀进程
                                </a>
                            
                        
                            
                                <a href="/tags/#Ubuntu" title="Ubuntu" rel="1">
                                    Ubuntu
                                </a>
                            
                        
                            
                                <a href="/tags/#Android" title="Android" rel="1">
                                    Android
                                </a>
                            
                        
                            
                                <a href="/tags/#JWT" title="JWT" rel="1">
                                    JWT
                                </a>
                            
                        
                            
                                <a href="/tags/#vue" title="vue" rel="7">
                                    vue
                                </a>
                            
                        
                            
                                <a href="/tags/#html-js" title="html-js" rel="2">
                                    html-js
                                </a>
                            
                        
                            
                                <a href="/tags/#style-class" title="style-class" rel="3">
                                    style-class
                                </a>
                            
                        
                            
                                <a href="/tags/#ssh" title="ssh" rel="2">
                                    ssh
                                </a>
                            
                        
                            
                                <a href="/tags/#PHP" title="PHP" rel="2">
                                    PHP
                                </a>
                            
                        
                            
                                <a href="/tags/#jks" title="jks" rel="1">
                                    jks
                                </a>
                            
                        
                            
                                <a href="/tags/#css" title="css" rel="1">
                                    css
                                </a>
                            
                        
                            
                                <a href="/tags/#Runtime" title="Runtime" rel="1">
                                    Runtime
                                </a>
                            
                        
                            
                                <a href="/tags/#tree" title="tree" rel="1">
                                    tree
                                </a>
                            
                        
                            
                                <a href="/tags/#uniCloud" title="uniCloud" rel="1">
                                    uniCloud
                                </a>
                            
                        
                            
                                <a href="/tags/#总结" title="总结" rel="2">
                                    总结
                                </a>
                            
                        
                    </div>
                </section>
                               

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">
                    
                        <li><a href="http://gems.ruby-china.com/">RubyChina</a></li>
                    
                        <li><a href="https://apple.com">Apple</a></li>
                    
                        <li><a href="https://developer.apple.com/">Apple Developer</a></li>
                    
                        <li><a href="https://www.jianshu.com/u/9e754f67b0e9">简书</a></li>
                    
                        <li><a href="https://huxpro.github.io">黄玄</a></li>
                    
                        <li><a href="http://sobaigu.com/">搜百谷</a></li>
                    
                        <li><a href="https://www.jianshu.com/u/e6c8dda77e26">Swift</a></li>
                    
                        <li><a href="http://applemusic.cc/index.html">applemusic</a></li>
                    
                        <li><a href="https://blog.walterlv.com/">吕毅</a></li>
                    
                        <li><a href="https://blog.csdn.net/heipingguowenkong">黎明lh</a></li>
                    
                        <li><a href="https://www.jianshu.com/u/f8493395c623">_我们一直在路上_</a></li>
                    
                        <li><a href="https://github.com/hw20101101">Braintree-Paypal</a></li>
                    
                        <li><a href="https://zhile.io">知了</a></li>
                    
                        <li><a href="https://github.com/getlantern/lantern">LD</a></li>
                    
                        <li><a href="https://blog.ibireme.com/">YYKit</a></li>
                    
                        <li><a href="https://git-scm.com/book/en/v2">Git</a></li>
                    
                        <li><a href="https://blog.hyperzsb.tech/">Hyperzsb</a></li>
                    
                        <li><a href="https://github.com/getlantern">Lantern</a></li>
                    
                        <li><a href="https://tech.meituan.com/">美团</a></li>
                    
                        <li><a href="https://github.com/ElfSundae">工具</a></li>
                    
                        <li><a href="https://anbig.com/">anbig</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>

 <!-- 图片放大222 -->
<div id="image-cover-modal" class="image-cover-modal">
  <img id="image-cover-image" class="image-cover-modal-content">
  <div id="image-cover-caption"></div>
</div>
<script>
// Get the DOM
var modal = document.getElementById('image-cover-modal');
var modalImg = document.getElementById("image-cover-image");
var captionText = document.getElementById("image-cover-caption");
var span = document.getElementsByClassName("image-cover-close")[0];

// When the user clicks on <span> (x), close the modal
modal.onclick = function() {
    this.classList.remove("model-shown");
}

var i;
for (i = 0; i < document.images.length; i++) {

    // Get the image and insert it inside the modal - use its "alt" text as a caption
    var img = document.images[i];

    img.onclick = function(){
        modal.classList.add("model-shown");
        modalImg.src = this.src;
        captionText.innerHTML = this.alt;
    }
}
</script>





<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    <!-- add jianshu add target = "_blank" to <a> by BY -->
                    
                            <li>
                                <a target="_blank" href="https://www.jianshu.com/u/Yuan920">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa  fa-stack-1x fa-inverse">简</i>
                                    </span>
                                </a>
                            </li>
                    
                    

                    <!-- add Weibo, Zhihu by Hux, add target = "_blank" to <a> by Hux -->
                    
                    
                    <li>
                        <a target="_blank" href="http://weibo.com/Memory丶Rookie">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    


                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/Yuan920">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Yuan's Blog 2024
                    <br>
                    Theme on <a href="https://github.com/Yuan920/rookie777">GitHub</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=Yuan920&repo=Yuan920.github.io&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- 不蒜子 -->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>

<!-- Service Worker -->

<script type="text/javascript">
    if(navigator.serviceWorker){
        // For security reasons, a service worker can only control the pages that are in the same directory level or below it. That's why we put sw.js at ROOT level.
        navigator.serviceWorker
            .register('/sw.js')
            .then((registration) => {console.log('Service Worker Registered. ', registration)})
            .catch((error) => {console.log('ServiceWorker registration failed: ', error)})
    }
</script>



<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 不蒜子计数初始值纠正 -->
<script>
$(document).ready(function() {
    var int = setInterval(fixCount, 50);  // 50ms周期检测函数
    var countOffset = 20000;  // 初始化首次数据
    function fixCount() {   

        //console.log('111 '+document.getElementById("busuanzi_container_site_pv"));
        //console.log('222 '+document.getElementById("busuanzi_container_page_uv"));

       if (document.getElementById("busuanzi_container_site_pv")) {
            if (document.getElementById("busuanzi_container_site_pv").style.display != "none"){
                $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
                clearInterval(int);
            }                  
            if ($("#busuanzi_container_site_pv").css("display") != "none"){
                $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset); // 加上初始数据 
                clearInterval(int); // 停止检测
            }  
       }
       if (document.getElementById("busuanzi_container_page_uv")) {
            if (document.getElementById("busuanzi_container_page_uv").style.display != "none"){
                $("#busuanzi_value_page_pv").html(parseInt($("#busuanzi_value_page_pv").html()) + countOffset); 
                clearInterval(int);
            }                  
            if ($("#busuanzi_container_page_uv").css("display") != "none"){
                $("#busuanzi_value_page_pv").html(parseInt($("#busuanzi_value_page_pv").html()) + countOffset); // 加上初始数据 
                clearInterval(int); // 停止检测
            }  
       }
    }
});
</script> 
<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/ 
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers   
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async('/js/jquery.tagcloud.js',function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->

<script>
    // dynamic User by Hux
    var _gaId = 'UA-90855596-1';
    var _gaDomain = 'auto';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>



<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = 'b50bf2b12b5338a1845e33832976fd68';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>




<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog (selector) {
        var P = $('div.post-container'),a,n,t,l,i,c;
        a = P.find('h1,h2,h3,h4,h5,h6');
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#"+$(this).prop('id');
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;    
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>





<!-- Image to hack wechat -->
<img src="/img/apple-touch-icon.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
